<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>xlreg_r</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <link rel="stylesheet" type="text/css" href="css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="css/ghp.css" />
</head>
<body>
<div class="content">
<h1>xlreg_r</h1>

<p>A Ruby client for the xlReg cluster registry.  <strong>xlreg_r</strong>
makes it easy to create new small clusters some or all of whose members are
written in Ruby.  xlreg_r is expected to be used primarily
for testing, where
the ability to create and launch new, unique, distinct clusters in seconds
will be a major advantage.</p>

<p><img src="img/xl-registration.jpg" alt="xl-registration" style="float:left" title="members registering with xlReg"></p>

<p><a href="http://jddixon.github.com/xlattice_go/xlReg.html">xlReg</a>
is a service which provides clients with unique nodeIDs and allows them
to register and join new clusters and collect configuration information
about existing clusters.</p>

<p>An xlReg cluster is a number of machines
which cooperate as a set of intercommunicating servers.  Each
such server has two RSA keys.  One, the <strong>sig</strong> key, is used for creating
digital signatures.  The other, the <strong>comms</strong> key, is used for encrypting
communications; most often the comms key is used for creating keys for
block ciphers. That is, the comms key is used only for agreeing on the
much faster block cipher key used during the rest of the communications
session.</p>

<p>Each xlReg cluster member also has at least one IP address used for
intra-cluster communications, for communications between members.  In some
clusters each member will also have a second IP address used for communications
with cluster clients.</p>

<p>The xlReg server itself, its clients, and so the cluster members all are
or behave like
<a href="http://jddixon.github.io/xlattice_go/node.html">XLattice nodes</a>.
That is, they are self-contained fault-tolerant entities with some
persistent store.  These nodes may be located anywhere on the global
Internet, or on private networks with access to the network in which
an xlReg server resides.`</p>

<p>Like any XLattice node, the xlReg client can either be configured with some
specific keys at start-up or it will generate a new pair of  keys and save
them to persistent store.</p>

<p><img src="img/simple-cluster.jpg" alt="simple-cluster" style="float:right" title="small cluster, no clients"></p>

<p>A booting xlReg client establishes an encrypted connection to the xlReg server.
If this is its first conversation with the xlReg server, the client then
provides the server with configuration information including its RSA public
keys.  (The client does <strong>not</strong> register its secret RSA <strong>private</strong> keys.)
The configuration information is signed with the applicant&rsquo;s private
*sig&rdquo; key.  The server uses the
client&rsquo;s public key, provided as part of the configuration information, to
verify the client&rsquo;s digital signature on the configuration data.  This proves
that the configuration information is intact and that the applicant has the
private key corresponding to the public key.  In other words, the server has
in a certain sense confirmed the applicant&rsquo;s identity.  Having done this,
the xlReg server issues the client with a unique node ID, a 32-byte value,
completing client registration.</p>

<p>Once an xlReg client has identified itself to the registry it can</p>

<ol>
<li>register new clusters or</li>
<li>join existing clusters or</li>
<li>get information on existing clusters.</li>
</ol>

<p>The third option is used, for example, by nodes intending to become clients
of an existing cluster.</p>

<p>After a new member has joined a cluster the server provides it
with cluster configuration data.  This includes</p>

<ul>
<li>the cluster name,</li>
<li>the cluster ID, and</li>
<li>the cluster size, the  maximum number of cluster members</li>
</ul>

<p>It also includes for each current cluster member the member&rsquo;s</p>

<ul>
<li>nodeID,</li>
<li>IP address(es),</li>
<li><strong>sig</strong> public key, and</li>
<li><strong>comms</strong> public key</li>
</ul>

<p><img src="img/cluster-with-clients.jpg" alt="cluster-with-clients" style="float:left" title="cluster with clients"></p>

<p>The new cluster member can then use this information to communicate with
other members.  Cluster members need no further assistance from the
xlReg server.</p>

<p>Cluster members will communicate with one another and clients
using protocols agreed-upon among themselves, but the xlReg registry
has no knowledge of such protocols.</p>

<p><strong>xlreg_r</strong> is currently in development.  This is not
necessarily a description of running code; it is where we are going.</p>

<p>xlReg is an <a href="http://jddixon.github.io/xlattice_go/">XLattice</a> project.  More
detailed (but somewhat dated) conceptual information on XLattice
is available at the <a href="http://www.xlattice.org">XLattice website</a>.</p>

<p>xlReg servers and clients communicate using the
<a href="http://code.google.com/p/protobuf/">Gooble Protocol Buffers</a>-based
<a href="http://jddixon.github.io/xlattice_go/xlReg_protocol.html">xlReg protocol</a>.
An xlReg server has been in test for several months.</p>

<p>There is currently an xlReg server running on stockton.dixons.org:55555,
with the public keys shown in the registry credentials below.</p>

<pre><code>regCred {
    Name: xlReg
    ID: 21b95b5c697977d266a0c364e12787ad72bf6fc9346ec0edef351cfb6da90c24
    CommsPubKey: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCZz5Kdt5XqLRVipmnEEu1eedHmSswP8ZDkbadkRdCrgpGm1OLe79WTrkB0HLW98pjyBooaWLU/thSoB1/2UfkaYdoDHtfHzMKBLUmfR8MCgQaKA3KoOr83wYdtLPYiUmIlg77CjUAuKOPYtd8oy+9TrbM7AwYUZf7Ps/2Lalv7JPQKHX5jyBAjs8nF9LZj+6EhYX0m6RrwyptHjTle7ajQ+6taX+9pZUIY20zu9aiR7j4LNlk2JITOPDk0mr+UsVlI6SfHpuAdy6nsG592bQLT5RF/mD5knh3/EP+b+5yXJHth8myN4UDPIIupinVQ+Vcr0H4y106bebLITWhuJiuN

    SigPubKey: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDcpMhDQWgLHLcaU4Ed8fHBwLmNOa5RKECmci5VeDczF01R/VaxUcLnna58NM6m1fajNJlS3Z7xICiCwmYFOfJjQ8weuvXebqKUKTZMBghVRJqjPiWGmz9C07U/sTtRrEg0kEUZKepZ6Z9M7VN7eUJwoi+Avp99enTAKmgotYFXn47vpoLDGeKaviHAVcqOHXoQRLfT1Q6vjs/b+yg9lnxRon9kyf3tLopz64Sor6itkI0WhwdWZ0PJHDFW5SfkBhStBW1gC8vED0HO5bbi5iU1NRPiG+nUHm4UYjiQD2DY2PQGXeogZeaqL7ADy8+V0A7TYOkWZTSulK/IuYBY8Clz

    EndPoints {
         TcpEndPoint: 50.18.104.7:55555
    }
    Version: 0.4.3
}
</code></pre>

<p>The xlReg server and its supporting libraries are written in
<a href="http://golang.org">the Go programming language</a>, a high-performance
systems programming language incorporating certain features of
<a href="http://en.wikipedia.org/wiki/Tony_Hoare">Tony Hoare</a>&rsquo;s
revolutionary <strong>CSP</strong>,
<a href="http://www.usingcsp.com">Communicating Sequential Processes</a>.</p>

<p>Software developers can currently obtain the xlReg source code at
<a href="https://github.com/jddixon/xlattice_go/">xlattice_go&rsquo;s website</a> on github
so that if you are impatient to begin using xlReg you can build and operate
your own server.</p>
  <div class="f">
    <hr />
    <div class="license">
      <p><a href="LICENSE.html">LICENSE</a></p>
    </div>
    <div class="project">
      <p><a href="https://github.com/jddixon/xlreg_r">github project</a></p>
    </div>
    <div class="logo" >
      <a href="http://www.xlattice.org">
      <img src="img/xlattice-2014.jpg" alt="the XLattice Project" style="float: right;" >
      </a>
    </div>
  </div>
</div>
</body>
</html>
